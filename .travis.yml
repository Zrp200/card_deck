language: ruby
before_install:
- gem update --system
- bundle
os:
- linux
- osx
rvm:
- 1.9.2
- 1.9.3
- 2.0.0
- 2.1.0
- 2.1.1
- 2.1.2
- 2.1.3
- ruby-2.2.0-preview1
- ruby-head
script:
- gem build card_deck.gemspec
- bundle exec rspec -f doc --require spec_helper
deploy:
  provider: rubygems
  api_key: "7249c993207627ae3bd420bb84b88b85250b3365"
  on:
    rvm: ruby-head
matrix:
  allow_failures:
  - rvm: 2.1.3
  - rvm: ruby-2.2.0-preview1
  - rvm: ruby-head
  - os: osx
  fast_finish: true
